#include <iostream>
#include <vector>
#include <string>
#include <unordered_map>

int main() {
    int T, M, N;
    std::cin >> T >> N >> M;

    std::unordered_map<std::string, std::vector<std::string>> mazeMap;
    std::cin.ignore();

    for (int i = 0; i < T; i++) {
        std::string student;
        std::getline(std::cin, student);

        std::string mazeString;
        for (int j = 0; j < M; j++) {
            std::string row;
            std::getline(std::cin, row);
            mazeString += row;
        }

        mazeMap[mazeString].push_back(student);
    }

    for (const auto& entry : mazeMap) {
        for (const auto& name : entry.second) {
            std::cout << name << " ";
        }
        std::cout << std::endl;
    }

    return 0;
}

/*
20 15 15
Abrar
***************
**@*#*$@%*%#*@*
**@***@@#**@%#*
**$#***%**$%@**
*#*************
*#%****$@#*##$*
*$%*****$**#***
*%$*%*###**#*%*
*#**%%#%**#$***
**@*#*$*$*@****
*@@#***#*%#*#$*
*$#*****%%***%*
*****%@%**%**%*
*#@**$**#******
***************
Tahmid
***************
*********%#**#*
*$%@*%#*%*@@***
**$**#$%@%%*#$*
**@$*#**%*@$***
*%%@****%#*$***
**#*$*$#*$##*$*
*****$#**###***
*****$**%%*#@**
*%*******@**%$*
*#%**$*$*******
*#*%*%#**@*@#**
*#****%**@**$#*
***@#**%*#*@***
***************
Prince
***************
**%@**##*##*$%*
**********$*#@*
*%**@$##***#%**
*$*%**#*%@@%*#*
***#**@@*@##***
*****#%*#*$#$**
*@#%**#*$$*$%**
*#%%%*@*$$*@*$*
**#$*%*###*****
**@#%@@#*%#****
*@***$******#%*
*$*#*$##%*@*#@*
*##$$*#*%$*#***
***************
Didhiti
***************
*#$***@*#**#***
*$*@$**%$$#**%*
***%@$#$****#**
**%#@@@*#*#*#$*
*****@$**$*$*%*
**@*$%**#**#*$*
**#***@*$*@#***
****#%*%#@$*#**
*$#***#***#*@**
*#$$$%##*#*#%@*
*@****##@**$***
*$**#@@*@%#*%**
**$*****##***#*
***************
Jessan
***************
**@*#*$@%*%#*@*
**@***@@#**@%#*
**$#***%**$%@**
*#*************
*#%****$@#*##$*
*$%*****$**#***
*%$*%*###**#*%*
*#**%%#%**#$***
**@*#*$*$*@****
*@@#***#*%#*#$*
*$#*****%%***%*
*****%@%**%**%*
*#@**$**#******
***************
Mahiul
***************
*$**%**%%*#*#**
*%#@*$**$#**#**
*#*#**%***$*$$*
*#%%#**##***@%*
*#*##$*#%$*****
**#**#***#***#*
*#**#*#%@$%**#*
**#**$*$#%#$#**
***@*#**$*#$*$*
**$#**$@##$*#**
**%@@*#*#*$****
*$#**$**##*%@**
*%*$@**@@***$**
***************
Sidratul
***************
*#$***@*#**#***
*$*@$**%$$#**%*
***%@$#$****#**
**%#@@@*#*#*#$*
*****@$**$*$*%*
**@*$%**#**#*$*
**#***@*$*@#***
****#%*%#@$*#**
*$#***#***#*@**
*#$$$%##*#*#%@*
*@****##@**$***
*$**#@@*@%#*%**
**$*****##***#*
***************
Fattah
***************
**#***#*$****@*
*#***%*#***#***
*#*#*****#*%*%*
*@*#@%$**#$****
**$#*##***@****
****@*#%****#**
*##@**@##%##@#*
*%**$#*#**#**%*
*$#%****@#$%$**
*****%@#@**%%**
*###**%****#%#*
*%%*$@$**%**@%*
*%**#@$$****#**
***************
Suborno
***************
*$***##***##$**
*****#****$%***
*$$##$#%*##*@#*
**%%%**###@##**
****@*@###%**#*
*#*******#*****
**#*$*#%@@#**%*
*$@$$*@*%$$@***
***%*#**$#*$@$*
*%*##*@#$@@%##*
*##*$*#*##*@@**
*$*$@**%*#*%***
*#$**#*%$*%*#**
***************
Multazam
***************
*$***##***##$**
*****#****$%***
*$$##$#%*##*@#*
**%%%**###@##**
****@*@###%**#*
*#*******#*****
**#*$*#%@@#**%*
*$@$$*@*%$$@***
***%*#**$#*$@$*
*%*##*@#$@@%##*
*##*$*#*##*@@**
*$*$@**%*#*%***
*#$**#*%$*%*#**
***************
Juhan
***************
*********%#**#*
*$%@*%#*%*@@***
**$**#$%@%%*#$*
**@$*#**%*@$***
*%%@****%#*$***
**#*$*$#*$##*$*
*****$#**###***
*****$**%%*#@**
*%*******@**%$*
*#%**$*$*******
*#*%*%#**@*@#**
*#****%**@**$#*
***@#**%*#*@***
***************
Saom
***************
**@**#@****##%*
**%*%*$%%*#**#*
*%*$$*#*#*@@*#*
**%****@#*$%*#*
*@%@*#*@@*#****
***#*$@**$**@#*
*%*%*##*@#*%#@*
*@@*#@******#**
****%****#*$*$*
*#*@*$%%*%*****
*#@*%@$*#@%*$$*
***##@**#*%$***
*@**@*#****#***
***************
Sunjoh
***************
*********%#**#*
*$%@*%#*%*@@***
**$**#$%@%%*#$*
**@$*#**%*@$***
*%%@****%#*$***
**#*$*$#*$##*$*
*****$#**###***
*****$**%%*#@**
*%*******@**%$*
*#%**$*$*******
*#*%*%#**@*@#**
*#****%**@**$#*
***@#**%*#*@***
***************
Adnan
***************
*********%#**#*
*$%@*%#*%*@@***
**$**#$%@%%*#$*
**@$*#**%*@$***
*%%@****%#*$***
**#*$*$#*$##*$*
*****$#**###***
*****$**%%*#@**
*%*******@**%$*
*#%**$*$*******
*#*%*%#**@*@#**
*#****%**@**$#*
***@#**%*#*@***
***************
Daiyan
***************
**@*@#*@*$**%#*
*%*@%#**@***#**
***%#*%@**%$#@*
**#**@*$*#@**#*
*@*@%%#%%$%#%**
*$$****#%#**$$*
***$**#@**$#@**
*@##**@@*@*@***
**%**%*$#@*****
**@***$@*%*%*%*
***%@****##$***
*%**#*@##%*#*#*
**%#$#**@%%*@@*
***************
Shadab
***************
**@*@#*@*$**%#*
*%*@%#**@***#**
***%#*%@**%$#@*
**#**@*$*#@**#*
*@*@%%#%%$%#%**
*$$****#%#**$$*
***$**#@**$#@**
*@##**@@*@*@***
**%**%*$#@*****
**@***$@*%*%*%*
***%@****##$***
*%**#*@##%*#*#*
**%#$#**@%%*@@*
***************
Lihan
***************
**@*@#*@*$**%#*
*%*@%#**@***#**
***%#*%@**%$#@*
**#**@*$*#@**#*
*@*@%%#%%$%#%**
*$$****#%#**$$*
***$**#@**$#@**
*@##**@@*@*@***
**%**%*$#@*****
**@***$@*%*%*%*
***%@****##$***
*%**#*@##%*#*#*
**%#$#**@%%*@@*
***************
Obidit
***************
**@**#@****##%*
**%*%*$%%*#**#*
*%*$$*#*#*@@*#*
**%****@#*$%*#*
*@%@*#*@@*#****
***#*$@**$**@#*
*%*%*##*@#*%#@*
*@@*#@******#**
****%****#*$*$*
*#*@*$%%*%*****
*#@*%@$*#@%*$$*
***##@**#*%$***
*@**@*#****#***
***************
Iqura
***************
*#$***@*#**#***
*$*@$**%$$#**%*
***%@$#$****#**
**%#@@@*#*#*#$*
*****@$**$*$*%*
**@*$%**#**#*$*
**#***@*$*@#***
****#%*%#@$*#**
*$#***#***#*@**
*#$$$%##*#*#%@*
*@****##@**$***
*$**#@@*@%#*%**
**$*****##***#*
***************
Mojadded
***************
*#@*%**$**%$##*
**@*%%##**$@*@*
*#@****#@#*@*#*
***#*%***@$###*
**@*@#*@*%%%#**
***#$#@$*%***%*
***%#*$##*@*#**
*%%**%****#%##*
*$#**###*%***#*
**##%*##*%#*$$*
*$#****#***@$#*
*#****@#**%@#**
*******$**@@***
***************
*/